<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>应急演练评估 - 智能学习地图</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        :root {
            --primary-color: #2563EB;
            --bg-color: #F8FAFC;
            --card-bg: #FFFFFF;
            --text-color: #1E293B;
            --border-color: #E2E8F0;
        }
        body {
            background-color: var(--bg-color);
            font-family: 'Segoe UI', sans-serif;
        }
        .navbar {
            background-color: var(--card-bg);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .main-container {
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            padding: 24px;
            margin-bottom: 24px;
        }
        .criteria-item {
            background: var(--bg-color);
            border-radius: 8px;
            padding: 16px;
            border: 1px solid var(--border-color);
            margin-bottom: 12px;
        }
        .btn-primary {
            background: var(--primary-color);
            border: none;
            border-radius: 8px;
        }
        .score-input {
            width: 80px;
        }
        .video-placeholder {
            background: #000;
            border-radius: 8px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
    </style>
</head>
<body>
    <div id="app">
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
                <a class="navbar-brand" href="../index.html"><i class="bi bi-book"></i> 智能学习地图</a>
                <div class="d-flex align-items-center gap-3">
                    <span class="text-muted">张明 | 重介操作工</span>
                    <button class="btn btn-primary">个人中心</button>
                </div>
            </div>
        </nav>

        <div class="main-container">
            <h2>应急演练评估</h2>
            <p class="text-muted">火灾应急处置演练评估</p>

            <div class="card">
                <h4>演练视频</h4>
                <div class="video-placeholder mb-3">
                    <div class="text-center">
                        <i class="bi bi-camera-video" style="font-size: 48px;"></i>
                        <p class="mt-2">演练视频</p>
                    </div>
                </div>
                <div class="d-flex gap-2">
                    <button class="btn btn-primary">
                        <i class="bi bi-play-circle"></i> 播放
                    </button>
                    <button class="btn btn-outline-secondary">
                        <i class="bi bi-pause-circle"></i> 暂停
                    </button>
                    <button class="btn btn-outline-secondary">
                        <i class="bi bi-arrow-counterclockwise"></i> 重放
                    </button>
                </div>
            </div>

            <div class="card">
                <h4>评估标准</h4>
                <div class="alert alert-info">
                    <i class="bi bi-info-circle"></i>
                    满分100分，80分以上为优秀，70-79分为良好，60-69分为合格，60分以下为不合格
                </div>
                <div v-for="criteria in evaluationCriteria" :key="criteria.id" class="criteria-item">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5>{{ criteria.name }}</h5>
                        <div class="d-flex align-items-center gap-2">
                            <span class="text-muted">{{ criteria.weight }}分</span>
                            <input type="number" class="form-control score-input" 
                                   v-model.number="criteria.score"
                                   min="0" :max="criteria.weight">
                            <span>/ {{ criteria.weight }}</span>
                        </div>
                    </div>
                    <p class="mb-2 text-muted">{{ criteria.description }}</p>
                    <div class="mb-2">
                        <label class="small">评估意见：</label>
                        <input type="text" class="form-control form-control-sm" 
                               v-model="criteria.comment"
                               placeholder="请输入评估意见">
                    </div>
                </div>
            </div>

            <div class="card">
                <h4>评估总结</h4>
                <div class="mb-3">
                    <label>总体评价</label>
                    <select class="form-select" v-model="overallEvaluation">
                        <option value="excellent">优秀</option>
                        <option value="good">良好</option>
                        <option value="qualified">合格</option>
                        <option value="unqualified">不合格</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label>改进建议</label>
                    <textarea class="form-control" rows="4" 
                              v-model="improvementSuggestions"
                              placeholder="请输入改进建议..."></textarea>
                </div>
                <div class="row g-3 mb-3">
                    <div class="col-md-6">
                        <label>评估人</label>
                        <input type="text" class="form-control" value="李安全员" readonly>
                    </div>
                    <div class="col-md-6">
                        <label>评估日期</label>
                        <input type="date" class="form-control" v-model="evaluationDate">
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h4>评估总分</h4>
                        <div style="font-size: 48px; font-weight: 700; color: var(--primary-color);">
                            {{ totalScore }}
                        </div>
                        <p class="text-muted">/ 100分</p>
                    </div>
                    <button class="btn btn-primary btn-lg" @click="submitEvaluation">
                        <i class="bi bi-check-circle"></i> 提交评估
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;
        createApp({
            data() {
                return {
                    evaluationDate: new Date().toISOString().split('T')[0],
                    overallEvaluation: 'good',
                    improvementSuggestions: '',
                    evaluationCriteria: [
                        {
                            id: 1,
                            name: '应急响应速度',
                            description: '发现火情后，能否迅速启动应急响应',
                            weight: 20,
                            score: 18,
                            comment: '响应迅速，符合要求'
                        },
                        {
                            id: 2,
                            name: '处置流程规范性',
                            description: '应急处置流程是否规范、完整',
                            weight: 30,
                            score: 25,
                            comment: '流程基本规范，部分细节需加强'
                        },
                        {
                            id: 3,
                            name: '操作技能熟练度',
                            description: '灭火器使用、报警等操作是否熟练',
                            weight: 25,
                            score: 22,
                            comment: '操作熟练，动作标准'
                        },
                        {
                            id: 4,
                            name: '团队协作能力',
                            description: '与团队成员的配合是否协调',
                            weight: 15,
                            score: 13,
                            comment: '配合默契，沟通顺畅'
                        },
                        {
                            id: 5,
                            name: '安全意识',
                            description: '演练过程中的安全意识表现',
                            weight: 10,
                            score: 10,
                            comment: '安全意识强，防护到位'
                        }
                    ]
                };
            },
            computed: {
                totalScore() {
                    return this.evaluationCriteria.reduce((sum, item) => sum + item.score, 0);
                }
            },
            methods: {
                submitEvaluation() {
                    alert('评估已提交！\n总分：' + this.totalScore + '分\n评价：' + this.getEvaluationText(this.overallEvaluation));
                },
                getEvaluationText(value) {
                    switch(value) {
                        case 'excellent': return '优秀';
                        case 'good': return '良好';
                        case 'qualified': return '合格';
                        case 'unqualified': return '不合格';
                        default: return '';
                    }
                }
            }
        }).mount('#app');
    </script>
</body>
</html>